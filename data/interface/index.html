<!DOCTYPE html>
<html>
  <head>
    <title>Video Resizer</title>
		<meta http-equiv="content-language" content="en">
    <link type="text/css" rel="stylesheet" href="index.css">
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <div class="logo">
      <svg height="16" viewBox="0 0 120 30">
        <circle cx="15" cy="15" r="15">
          <animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"/>
          <animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"/>
        </circle>
        <circle cx="60" cy="15" r="9" fill-opacity="0.3">
          <animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"/>
          <animate attributeName="fill-opacity" from="0.5" to="0.5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"/>
        </circle>
        <circle cx="105" cy="15" r="15">
          <animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"/>
          <animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"/>
        </circle>
      </svg>
    </div>
    <div class="toolbar left">
      <table>
        <tr>
          <td id="settings" title="Settings">
            <svg width="12" height="12" viewBox="0 0 20 20">
              <g transform="translate(-464.000000, -380.000000)">
                <g transform="translate(464.000000, 380.000000)">
                  <path d="M17.4,11 C17.4,10.7 17.5,10.4 17.5,10 C17.5,9.6 17.5,9.3 17.4,9 L19.5,7.3 C19.7,7.1 19.7,6.9 19.6,6.7 L17.6,3.2 C17.5,3.1 17.3,3 17,3.1 L14.5,4.1 C14,3.7 13.4,3.4 12.8,3.1 L12.4,0.5 C12.5,0.2 12.2,0 12,0 L8,0 C7.8,0 7.5,0.2 7.5,0.4 L7.1,3.1 C6.5,3.3 6,3.7 5.4,4.1 L3,3.1 C2.7,3 2.5,3.1 2.3,3.3 L0.3,6.8 C0.2,6.9 0.3,7.2 0.5,7.4 L2.6,9 C2.6,9.3 2.5,9.6 2.5,10 C2.5,10.4 2.5,10.7 2.6,11 L0.5,12.7 C0.3,12.9 0.3,13.1 0.4,13.3 L2.4,16.8 C2.5,16.9 2.7,17 3,16.9 L5.5,15.9 C6,16.3 6.6,16.6 7.2,16.9 L7.6,19.5 C7.6,19.7 7.8,19.9 8.1,19.9 L12.1,19.9 C12.3,19.9 12.6,19.7 12.6,19.5 L13,16.9 C13.6,16.6 14.2,16.3 14.7,15.9 L17.2,16.9 C17.4,17 17.7,16.9 17.8,16.7 L19.8,13.2 C19.9,13 19.9,12.7 19.7,12.6 L17.4,11 L17.4,11 Z M10,13.5 C8.1,13.5 6.5,11.9 6.5,10 C6.5,8.1 8.1,6.5 10,6.5 C11.9,6.5 13.5,8.1 13.5,10 C13.5,11.9 11.9,13.5 10,13.5 L10,13.5 Z"/>
                </g>
              </g>
            </svg>
          </td>
        </tr>
        <tr>
          <td id="console" title="Console">
            <svg width="12" height="12" viewBox="0 0 24 24">
              <path d="M 3.5175781,2.265625 C 2.4398217,3.3318464 1.3145932,4.460712 0.40234375,5.3730469 L 7.7929688,11.349609 0.39453125,17.291016 3.5175781,20.386719 14.648438,11.326172 Z M 11.082031,17.541016 C 11.082031,18.941407 11.082031,20.341797 11.082031,21.742188 H 23.589844 V 17.541016 Z"/>
            </svg>            
          </td>
        </tr>
        <tr>
          <td id="result" title="Result">
            <svg width="12" height="12" viewBox="0 0 32 32">
              <path d="M1 14 L5 10 L13 18 L27 4 L31 8 L13 26 z"/>
            </svg>
          </td>
        </tr>
      </table>
    </div>
    <div class="toolbar right">
      <table>
        <tr>
          <td id="reload" title="Reload UI">
            <svg width="12" height="12" viewBox="0 0 512 512">
              <path d="M281.525,228.102l104.758-78.042 c12.082-12.085,12.082-24.259,0-36.342L281.525,35.674c-3.274-2.359-7.359-3.725-11.723-3.725c-10.992,0-19.803,8.536-19.803,19.083  v35.429C144.611,86.737,59.205,172.046,59.205,277.258c0,105.396,85.672,190.793,191.248,190.793 c98.03,0,178.809-73.498,189.977-168.169c0.092-0.275,0.367-3.187,0.367-4.455c0-9.992-8.181-18.169-18.261-18.169h-45.793 c-14.993,0-26.349,10.355-27.893,18.986c-8.811,46.156-49.519,80.954-98.397,80.954c-55.329,0-100.127-44.701-100.127-99.94 c0-55.064,44.523-99.667,99.674-99.941v35.437c0,10.541,8.811,19.076,19.803,19.076C274.166,231.83,278.251,230.471,281.525,228.102 z"/>
            </svg>
          </td>
        </tr>
        <tr>
          <td id="support" title="Open support page">
            <svg width="12" height="12" viewBox="0 0 1792 1792">
              <path d="M1088 1256v240q0 16-12 28t-28 12h-240q-16 0-28-12t-12-28v-240q0-16 12-28t28-12h240q16 0 28 12t12 28zm316-600q0 54-15.5 101t-35 76.5-55 59.5-57.5 43.5-61 35.5q-41 23-68.5 65t-27.5 67q0 17-12 32.5t-28 15.5h-240q-15 0-25.5-18.5t-10.5-37.5v-45q0-83 65-156.5t143-108.5q59-27 84-56t25-76q0-42-46.5-74t-107.5-32q-65 0-108 29-35 25-107 115-13 16-31 16-12 0-25-8l-164-125q-13-10-15.5-25t5.5-28q160-266 464-266 80 0 161 31t146 83 106 127.5 41 158.5z"/>
            </svg>
          </td>
        </tr>
        <tr>
          <td id="donation" title="Make a donation">
            <svg width="12" height="12" viewBox="-0.709 -11.555 141.732 141.732">
              <path d="M140.314,37.654C140.314,16.858,123.402,0,102.537,0c-13.744,0-25.77,7.317-32.379,18.255C63.549,7.317,51.521,0,37.777,0 C16.912,0,0,16.858,0,37.654c0,10.821,4.588,20.57,11.922,27.438h-0.01l54.084,51.584c0.992,1.188,2.48,1.945,4.148,1.945 c1.545,0,2.936-0.653,3.92-1.696l54.346-51.833h-0.016C135.729,58.225,140.314,48.476,140.314,37.654"/>
            </svg>
          </td>
        </tr>
      </table>
    </div>
    <div class="file">
      <table>
        <tr>
          <td class="name">
            <span>
              <svg width="12" height="12" viewBox="0 0 512 512">
                <path d="M405.2,232.9L126.8,67.2c-3.4-2-6.9-3.2-10.9-3.2c-10.9,0-19.8,9-19.8,20H96v344h0.1c0,11,8.9,20,19.8,20 c4.1,0,7.5-1.4,11.2-3.4l278.1-165.5c6.6-5.5,10.8-13.8,10.8-23.1C416,246.7,411.8,238.5,405.2,232.9z"/>
              </svg>                     
            </span>
            <label for="input-file">Video</label>
          </td>
          <td class="input">
            <input id="input-file" type="file" accept="video/*" required="required">
          </td>
          <td class="progress">
            <div id="progress" title="Progress report"></div>
          </td>
        </tr>
      </table>
    </div>
    <div class="container">
      <div class="settings">
        <details>
          <summary>I. Settings</summary>
          <div class="content">
            <table>
              <tr>
                <td class="spacer" colspan="6">
                  <input type="radio" name="settings" id="dimension">
                  <label for="dimension">Common social media video dimensions (px)</label>
                </td>
              </tr>
              <tr>
                <td class="name">Dimension</td>
                <td colspan="5">
                  <select name="dimension" disabled>
                    <option selected>Select a width & height (px)</option>
                    //
                    <option value="240 ✕ 240">240 ✕ 240 px</option>
                    <option value="360 ✕ 360">360 ✕ 360 px</option>
                    <option value="360 ✕ 640">360 ✕ 640 px</option>
                    <option value="426 ✕ 240">426 ✕ 240 px</option>
                    <option value="600 ✕ 600">600 ✕ 600 px</option>
                    <option value="640 ✕ 360">640 ✕ 360 px</option>
                    <option value="600 ✕ 750">600 ✕ 750 px</option>
                    <option value="1280 ✕ 720">1280 ✕ 720 px</option>
                    <option value="1920 ✕ 1920">1920 ✕ 1920 px</option>
                    <option value="1920 ✕ 1080">1920 ✕ 1080 px</option>
                    <option value="1080 ✕ 1920">1080 ✕ 1920 px</option>
                    <option value="1080 ✕ 2340">1080 ✕ 2340 px</option>
                    <option value="1200 ✕ 1200">1200 ✕ 1200 px</option>
                    <option value="3840 ✕ 2160">3840 ✕ 2160 px</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td class="spacer" colspan="6">
                  <input type="radio" name="settings" id="bitrate">
                  <label for="bitrate"> Specify audio AND/OR video bitrate</label>
                </td>
              </tr>
              <tr>
                <td class="name">Audio:</td>
                <td>
                  <input type="number" step="1.0" name="bitrate" for="audio" placeholder="i.e. 320" disabled>
                </td>
                <td class="name">kbps</td>
                <td class="name">Video:</td>
                <td>
                  <input type="number" step="1.0" name="bitrate" for="video" placeholder="i.e. 320" disabled>
                </td>
                <td class="name">kbps</td>
              </tr>
              <tr>
                <td class="spacer" colspan="6">
                  <input type="radio" name="settings" id="percent">
                  <label for="percent"> Specify width OR height in percent (retain the aspect ratio)</label>
                </td>
              </tr>
              <tr>
                <td class="name">Width:</td>
                <td>
                  <input type="number" step="1.0" name="percent" for="width" placeholder="i.e. 50" disabled>
                </td>
                <td class="name">%</td>
                <td class="name">Height:</td>
                <td>
                  <input type="number" step="1.0" name="percent" for="height" placeholder="i.e. 50" disabled>
                </td>
                <td class="name">%</td>
              </tr>
              <tr>
                <td class="spacer" colspan="6">
                  <input type="radio" name="settings" id="pixel">
                  <label for="pixel"> Specify width OR height in pixel (retain the aspect ratio)</label>
                </td>
              </tr>
              <tr>
                <td class="name">Width:</td>
                <td>
                  <input type="number" step="1.0" name="pixel" for="width" placeholder="i.e. 360" disabled>
                </td>
                <td class="name">px</td>
                <td class="name">Height:</td>
                <td>
                  <input type="number" step="1.0" name="pixel" for="height" placeholder="i.e. 640" disabled>
                </td>
                <td class="name">px</td>
              </tr>
              <tr>
                <td class="spacer" colspan="6">
                  <input type="radio" name="settings" id="forced">
                  <label for="forced"> Specify width AND height in pixel (force the aspect ratio by adding a padding)</label>
                </td>
              </tr>
              <tr>
                <td class="name">Width:</td>
                <td>
                  <input type="number" step="1.0" name="forced" for="width" placeholder="i.e. 360" disabled>
                </td>
                <td class="name">px</td>
                <td class="name">Height:</td>
                <td>
                  <input type="number" step="1.0" name="forced" for="height" placeholder="i.e. 640" disabled>
                </td>
                <td class="name">px</td>
              </tr>
            </table>
          </div>
        </details>
      </div>
      <div class="console">
        <details open>
          <summary>II. Console</summary>
          <div class="content"></div>
        </details>
      </div>
      <div class="result">
        <details>
          <summary>III. Result</summary>
          <div class="content">
            <table>
              <tr>
                <td class="info" colspan="2">Note: Video playback only supports .mp4 and .webm formats.</td>
              </tr>
              <tr>
                <td class="name">
                  <span>Input Video</span>
                </td>
                <td class="name">
                  <span>Output Video [resized]</span>
                  <span id="download" title="Download video">
                    <svg width="14" height="14" viewBox="0 0 16 16">
                      <path d="M 7,15.375 2.54,10 C 2.287,9.695 2,9.461 2,9 2,8.375 2.516,8 3,8 H 6 V 1 C 6,0.45 6.45,0 7,0 H 9 C 9.55,0 10,0.45 10,1 V 8 H 13 C 13.484,8 14,8.375 14,9 14,9.461 13.713,9.695 13.46,10 L 9,15.375 C 8.688,15.758 8.445,16 8,16 7.555,16 7.313,15.758 7,15.375 Z"/>
                    </svg>
                  </span>
                </td>
              </tr>
              <tr>
                <td class="video input-video">
                  <video controls src=""></video>
                </td>
                <td class="video output-video">
                  <video controls src=""></video>
                </td>
              </tr>
            </table>
          </div>
        </details>
      </div>
      <div id="resize" class="action">resize</div>
    </div>
    <!-- -->
    <script type="module" src="ffmpeg.js"></script>
    <script type="text/javascript" src="index.js"></script>
  </body>
</html>
